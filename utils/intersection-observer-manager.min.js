class IntersectionObserverManager{constructor(options ={}){this.options ={threshold:options.threshold || 0.1,rootMargin:options.rootMargin || '0px 0px -50px 0px',once:options.once !== undefined ? options.once:true};this.prefersReducedMotion = window.matchMedia('(prefers-reduced-motion:reduce)').matches;this.callbacks = new Map();this.observer = new IntersectionObserver(this.handleIntersection.bind(this),{threshold:this.options.threshold,rootMargin:this.options.rootMargin});}handleIntersection(entries){entries.forEach(entry =>{if(entry.isIntersecting){const callback = this.callbacks.get(entry.target);if(callback){callback(entry);}if(this.options.once){this.unobserve(entry.target);}}});}observe(element,callback){if(!element || !(element instanceof HTMLElement)){');return;}this.callbacks.set(element,callback);this.observer.observe(element);}unobserve(element){if(!element)return;this.observer.unobserve(element);this.callbacks.delete(element);}disconnect(){this.observer.disconnect();this.callbacks.clear();}static fadeIn(element,delay = 0){if(!element)return;const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion:reduce)').matches;if(prefersReducedMotion){element.classList.add('visible');return;}setTimeout(()=>{element.classList.add('visible');element.addEventListener('transitionend',function handler(){element.removeEventListener('transitionend',handler);},{once:true});},delay);}static slideUp(element,delay = 0){if(!element)return;const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion:reduce)').matches;if(prefersReducedMotion){element.classList.add('visible');return;}setTimeout(()=>{element.classList.add('slide-up','visible');element.addEventListener('transitionend',function handler(){element.classList.remove('slide-up');element.removeEventListener('transitionend',handler);},{once:true});},delay);}static staggerChildren(parent,staggerDelay = 100,animationType = 'fadeIn'){if(!parent)return;const children = Array.from(parent.children);children.forEach((child,index)=>{const delay = index * staggerDelay;if(animationType === 'slideUp'){IntersectionObserverManager.slideUp(child,delay);}else{IntersectionObserverManager.fadeIn(child,delay);}});}}if(typeof module !== 'undefined' && module.exports){module.exports = IntersectionObserverManager;}