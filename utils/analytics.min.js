class AnalyticsTracker{constructor(config ={}){this.config ={trackingId:config.trackingId || null,enabled:config.enabled !== false,debug:config.debug || false,optOutKey:config.optOutKey || 'analytics_opt_out',...config};this.optedOut = this.checkOptOut();if(this.config.enabled && !this.optedOut && this.config.trackingId){this.initialize();}if(this.config.debug){}}initialize(){if(typeof gtag !== 'undefined'){if(this.config.debug){}return;}const script = document.createElement('script');script.async = true;script.src = `https:document.head.appendChild(script);window.dataLayer = window.dataLayer || [];window.gtag = function(){dataLayer.push(arguments);};gtag('js',new Date());gtag('config',this.config.trackingId,{anonymize_ip:true,cookie_flags:'SameSite=None;Secure'});if(this.config.debug){}}checkOptOut(){try{const optOut = localStorage.getItem(this.config.optOutKey);return optOut === 'true';}catch(error){return false;}}setOptOut(optOut){try{localStorage.setItem(this.config.optOutKey,optOut.toString());this.optedOut = optOut;if(this.config.debug){}if(optOut && typeof gtag !== 'undefined'){gtag('consent','update',{analytics_storage:'denied'});}}catch(error){}}canTrack(){return this.config.enabled && !this.optedOut && this.config.trackingId;}trackPageView(path = null,title = null){if(!this.canTrack()){if(this.config.debug){}return;}const pagePath = path || window.location.pathname + window.location.search + window.location.hash;const pageTitle = title || document.title;try{if(typeof gtag !== 'undefined'){gtag('event','page_view',{page_path:pagePath,page_title:pageTitle,page_location:window.location.href});if(this.config.debug){}}}catch(error){}}trackSectionView(sectionId,sectionName = null){if(!this.canTrack()){if(this.config.debug){}return;}const name = sectionName || sectionId;try{if(typeof gtag !== 'undefined'){gtag('event','section_view',{event_category:'engagement',event_label:name,section_id:sectionId,value:1});if(this.config.debug){}}}catch(error){}}trackEvent(eventName,params ={}){if(!this.canTrack()){if(this.config.debug){}return;}try{if(typeof gtag !== 'undefined'){gtag('event',eventName,{event_category:params.category || 'general',event_label:params.label || '',value:params.value || 0,...params});if(this.config.debug){}}}catch(error){}}trackButtonClick(buttonName,buttonLabel = null){this.trackEvent('button_click',{category:'interaction',label:buttonLabel || buttonName,button_name:buttonName});}trackFormSubmission(formName,success = true){this.trackEvent('form_submission',{category:'engagement',label:formName,form_name:formName,success:success,value:success ? 1:0});}trackThemeToggle(theme){this.trackEvent('theme_toggle',{category:'interaction',label:theme,theme:theme});}trackFilterUsage(filterType,filterValue){this.trackEvent('filter_usage',{category:'interaction',label:`${filterType}:${filterValue}`,filter_type:filterType,filter_value:filterValue});}trackDownload(fileName,fileType = 'pdf'){this.trackEvent('file_download',{category:'engagement',label:fileName,file_name:fileName,file_type:fileType,value:1});}trackExternalLink(url,linkText = null){this.trackEvent('external_link_click',{category:'outbound',label:linkText || url,url:url,value:1});}}const analytics = new AnalyticsTracker({trackingId:null,enabled:true,debug:false});if(typeof window !== 'undefined'){window.analytics = analytics;}